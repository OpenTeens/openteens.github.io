<style>
	body {
		margin: 0;
		/* display: flex; */
		justify-content: center;
	}

	#museum {
		--bg-light: #2c2c32;
		--bg-dark: #222428;
	}

	br {
		clear: both;
	}

	.collection {
		position: relative;
		padding: 10px;
		font-family: 'Times New Roman', Times, serif;
		color: white !important;
		padding-top: 20px;
		padding-bottom: 20px;
		height: max-content;
		--bg-color: black;
	}

	.collection img {
		transition: all 0.4s ease;
		filter: brightness(0.9);
	}

	.collection:hover img {
		transform: translateY(-5px);
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
		transform: scale(1.02);
		filter: brightness(1.1);
	}

	.collection.light {
		background-color: var(--bg-light);
	}

	.collection.dark {
		background-color: var(--bg-dark);
	}

	.collection.left {
		border-left: solid 3px green;
		padding-left: 50px;

		&::before {
			content: "";
			display: block;
			position: absolute;
			float: left;
			top: 1.7rem;
			left: -9px;
			width: 10px;
			height: 10px;
			border: 3px solid green;
			background-color: var(--bg-color);
			border-radius: 50%;
			z-index: 10;
		}
	}

	.collection.right {
		border-right: solid 3px green;
		padding-right: 50px;

		&::before {
			content: "";
			display: block;
			position: absolute;
			top: 1.7rem;
			right: -9px;
			float: left;
			width: 10px;
			height: 10px;
			border: 3px solid green;
			background-color: var(--bg-color);
			border-radius: 50%;
			z-index: 10;
		}
	}

	.collection.transition {
		--trans-ratius: 50px;
		background: linear-gradient(to bottom, var(--c1), var(--c2));
		height: calc(2 * var(--trans-ratius));
		padding: 0;

		&::before {
			content: "";
			display: block;
			position: absolute;
			top: 0;
			border-bottom: 3px solid green;
			width: calc(100% - var(--trans-ratius));
			height: var(--trans-ratius);
			z-index: 10;
		}

		&[left-to-right]::before {
			left: 0;
			border-left: 3px solid green;
			border-bottom-left-radius: var(--trans-ratius);
		}

		&[right-to-left]::before {
			right: 0;
			border-right: 3px solid green;
			border-bottom-right-radius: var(--trans-ratius);
		}

		&::after {
			content: "";
			display: block;
			position: absolute;
			top: var(--trans-ratius);
			border-top: 3px solid green;
			width: var(--trans-ratius);
			height: var(--trans-ratius);
			z-index: 10;
		}

		&[left-to-right]::after {
			right: 0;
			border-right: 3px solid green;
			border-top-right-radius: var(--trans-ratius);
		}

		&[right-to-left]::after {
			left: 0;
			border-left: 3px solid green;
			border-top-left-radius: var(--trans-ratius);
		}
	}

	/* branch forks */
	.collection.transition[left-to-right]{
		border-right: 3px solid green;
		&::after {
			transform: translateX(3px);
		}
	}
	.collection.transition[right-to-left]{
		border-left: 3px solid green;
		&::after {
			transform: translateX(-3px);
		}
	}

	.collection.tothefuture {
		height: 30px;
		border-left: solid 3px green;
		background: linear-gradient(to bottom, transparent, var(--bg-light));
		border-image: linear-gradient(to bottom, transparent, green) 1;
	}

	.collection>h3 {
		font-size: 1.5rem;
		line-height: 2rem;
		font-weight: bold;
		margin: 0;
		margin-left: 10px;
		font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	}

	.collection>* {
		margin-left: 20px;
	}

	.collection>span.time {
		display: block;
		color: grey;
		font-size: small;
	}

	.collection>img {
		max-height: 50vh;
		max-width: min(calc(100% - 40px), 700px);
		border: solid 1px black;
		margin: 10px;
		border-radius: 3px;
	}

	iframe.sky.bg {
		z-index: -1;
	}
</style>

<iframe src="/pages/spec/starbg.html" class="sky bg"></iframe>
<div id="content">
	<div id="museum">
		<div class="collection tothefuture"></div>
	</div>
</div>

<script>
	const museum = [
		{
			title: "OpenTeens Founded!",
			time: "2023/8/12",
			img: "img/found.jpg"
		},
		"NEXT_CLASS", {
			title: "First Logo!",
			time: "2023/8/11  (11:35)",
			img: "img/logo_v1.png",
			desc: "An Open-Source-Community Ring with a teenager inside, that is OpenTeens!",
		},
		{
			title: "Logo Improved ...",
			time: "2023/8/11  (11:47)",
			img: "img/logo_v1.1.jpg",
		},
		"NEXT_CLASS", {
			title: "First Public Activity",
			time: "2023/8/13",
			img: "img/a1.png",
			desc: "Introducing OpenTeens and our first project GestureX.",
		},
		{
			title: "COSCon'23",
			time: "2023/10/30",
			img: "img/coscon.png",
			desc: "The first teenager forum at COSCon history!",
		},
		"NEXT_CLASS", {
			title: "TeensCamp#1",
			time: "2023/12/04",
			img: "img/t1.png",
			desc: "First Teens Camp activity - weather app project collaboration.",
		},
		{
			title: "TeensCamp#2",
			time: "2024/3/02",
			img: "img/t2.png",
			desc: "Second Teens Camp - forum project collaboration.",
		},
		"NEXT_CLASS", {
			title: "DevTogether 2024",
			time: "2024/3/30",
			img: "img/devtogether.jpg",
			desc: "OpenTeens Members joined DevTogether 2024.",
		},
		"NEXT_CLASS", {
			title: "COSCon 2024",
			time: "2024/11/03",
			img: "img/coscon.jpg",
			desc: "OpenTeens Members joined COSCon 2024.",
		},
		"NEXT_CLASS", {
			title: "COSCon 2024",
			time: "2024/11/03",
			img: "img/coscon2.png",
			desc: "Another group photo at COSCon 2024, this time taken with even younger 'teenagers'!",
		},
		// slogan
		"NEXT_CLASS",
		{
			title: "乾坤未定，一切皆有可能 ...",
		}
	].reverse();

	var divNo = 0;
	var divClass = 0;
	museum.forEach(async collection => {
		if (collection === "NEXT_CLASS") {
			divClass++;
			var transition = document.createElement("div");
			transition.classList.add("collection");
			transition.classList.add("transition");
			transition.style.setProperty("--c1", "var(--bg-" + ((divClass - 1) % 2 ? "dark" : "light") + ")");
			transition.style.setProperty("--c2", "var(--bg-" + (divClass % 2 ? "dark" : "light") + ")");
			transition.setAttribute(divClass % 2 ? "left-to-right" : "right-to-left", "");
			$("#museum").appendChild(transition);
		}
		else {
			var div = document.createElement("div");
			div.classList.add("collection");
			console.log(divNo)
			div.classList.add(divNo % 2 ? "dark" : "light");
			div.classList.add(divClass % 2 ? "right" : "left");

			// title
			var title = document.createElement("h3");
			title.style.float = divClass % 2 ? "right" : "left";
			title.innerText = collection.title;
			div.appendChild(title);
			div.appendChild(document.createElement("br"));

			if (collection.time) {
				var time = document.createElement("span");
				time.classList.add("time");
				time.innerText = collection.time;
				div.appendChild(time);
			}
			if (collection.img) {
				var img = document.createElement("img");
				img.src = "/museum_assets/" + collection.img;
				div.appendChild(img);
			}
			if (collection.desc) {
				var desc = document.createElement("p");
				desc.classList.add("desc");
				desc.innerText = collection.desc;
				div.appendChild(desc);
			}

			// Post Do
			$("#museum").appendChild(div);
			div.style.setProperty("--boxheight", `${div.offsetHeight}px`);

			divNo++;
		}
	})
</script>